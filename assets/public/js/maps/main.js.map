{"version":3,"sources":["main.js"],"names":["$","formData","message","Array","messageBox","formLogin","formReg","maiExist","spinner","msg","type","baseurl","on","input","submitBtn","mail","val","length","ajax","url","dataType","data","success","response","auth","css","html","prop","fail","console","log","event","preventDefault","FormData","this","attr","processData","contentType","beforeSend","location","href","csrf","sortDate","path","pathname","substr","indexOf","query","search","replace","queryParams","URLSearchParams","has","value","get","sortPrice","id","modal","categoryid","locationid","btnActions","category","document","action","call","tooltip"],"mappings":"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","file":"../main.js","sourcesContent":["$(function () {\r\n\r\n\t/* Varibales */\r\n\tvar formData = null;\r\n\tvar message = new Array();\r\n\tvar messageBox = $('#messageBox');\r\n\tvar formLogin = $('#formLogin');\r\n\tvar formReg = $('#formRegister');\r\n\tvar maiExist = $('input[name=usermail]');\r\n\tvar spinnerSelector = $('#spinner');\r\n\tvar spinner = '<i class=\"fa fa-spinner fa-spin fa-lg fa-fw d-block mx-auto text-primary mt-3\"></i><span class=\"sr-only\">Loading...</span>';\r\n\r\n\t/* Functions */\r\n\t\r\n\t// JS Message\r\n\tvar message = function (msg, type) {\r\n\t\tvar box;\r\n\t\tswitch (type) {\r\n\t\t\tcase 'error':\r\n\t\t\t\treturn box = '<div class=\"notify-box\">' +\r\n\t\t\t\t\t'<noscript>Sorry, your browser does not support JavaScript!</noscript>' +\r\n\t\t\t\t\t'<div class=\"error d-flex align-items-center\">' +\r\n\t\t\t\t\t'<img src=\"' + baseurl + 'assets/images/error.png\" alt=\"Error-Image\" class=\"img-fluid\">' +\r\n\t\t\t\t\t'<div>' + msg + '<div>' +\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t'</div>';\r\n\t\t\tcase 'success':\r\n\t\t\t\treturn box = '<div class=\"notify-box\">' +\r\n\t\t\t\t\t'<noscript>Sorry, your browser does not support JavaScript!</noscript>' +\r\n\t\t\t\t\t'<div class=\"success d-flex align-items-center\">' +\r\n\t\t\t\t\t'<img src=\"' + baseurl + 'assets/images/success.png\" alt=\"Success-Image\" class=\"img-fluid\">' +\r\n\t\t\t\t\t'<p>' + msg + '</p>' +\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t'</div>';\r\n\t\t\tcase 'info':\r\n\t\t\t\treturn box = '<div class=\"notify-box\">' +\r\n\t\t\t\t\t'<noscript>Sorry, your browser does not support JavaScript!</noscript>' +\r\n\t\t\t\t\t'<div class=\"info d-flex align-items-center\">' +\r\n\t\t\t\t\t'<img src=\"' + baseurl + 'assets/images/info.png\" alt=\"Success-Image\" class=\"img-fluid\">' +\r\n\t\t\t\t\t'<p>' + msg + '</p>' +\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t'</div>';\r\n\r\n\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'Unable to display Message';\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t// Function to create new user\r\n\tvar create_user = function (fm) {\r\n\r\n\t\tformData = new FormData(fm);\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: formReg.attr(\"action\"),\r\n\t\t\ttype: formReg.attr(\"method\"),\r\n\t\t\tdataType: 'JSON',\r\n\t\t\tdata: formData,\r\n\t\t\tprocessData: false,\r\n\t\t\tcontentType: false,\r\n\t\t\tbeforeSend: function () {\r\n\t\t\t\tmessageBox.html(message('Processing...', 'info'));\r\n\t\t\t},\r\n\t\t\tsuccess: function (response) {\r\n\t\t\t\tif (response.auth) {\r\n\t\t\t\t\tmessageBox.html(message(response.message, 'success'));\r\n\t\t\t\t\tlocation.href = response.url;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$('input[name=csrf_test_name]').val(response.csrf);\r\n\t\t\t\t\tmessageBox.html(message(response.message, 'error'));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail: function () {\r\n\t\t\t\tconsole.log('Error');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// User Login\r\n\tvar login = function (fm) {\r\n\r\n\t\tformData = new FormData(fm);\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: formLogin.attr(\"action\"),\r\n\t\t\ttype: formLogin.attr(\"method\"),\r\n\t\t\tdataType: 'JSON',\r\n\t\t\tdata: formData,\r\n\t\t\tprocessData: false,\r\n\t\t\tcontentType: false,\r\n\t\t\tbeforeSend: function () {\r\n\t\t\t\tmessageBox.html(message('Processing...', 'info'));\r\n\t\t\t},\r\n\t\t\tsuccess: function (response) {\r\n\t\t\t\tif (response.auth) {\r\n\t\t\t\t\tmessageBox.html(message(response.message, 'success'));\r\n\t\t\t\t\tlocation.href = response.url;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$('input[name=csrf_test_name]').val(response.csrf);\r\n\t\t\t\t\tmessageBox.html(message(response.message, 'error'));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail: function () {\r\n\t\t\t\tconsole.log('Error');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// Email \r\n\tvar email_availability = function (input) {\r\n\r\n\t\tvar msg = $('#emailExist');\r\n\t\tvar submitBtn = $('#emailExist');\r\n\t\t$.ajax({\r\n\t\t\turl: baseurl + 'public/user/register/check-email',\r\n\t\t\ttype: 'GET',\r\n\t\t\tdataType: 'JSON',\r\n\t\t\tdata: {\r\n\t\t\t\tmail: input\r\n\t\t\t},\r\n\t\t\tsuccess: function (response) {\r\n\t\t\t\tif (response.auth) {\r\n\t\t\t\t\tmaiExist.css('border-color', '#ced4da');\r\n\t\t\t\t\tmsg.html('');\r\n\t\t\t\t\tsubmitBtn.prop(\"disabled\", false).css('cursor', 'pointer');\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmaiExist.css('border-color', 'red');\r\n\t\t\t\t\tmsg.html(response.message);\r\n\t\t\t\t\tsubmitBtn.prop(\"disabled\", true).css('cursor', 'not-allowed');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail: function () {\r\n\t\t\t\tconsole.log('Error');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t//\r\n\tvar fetchSubCategories = function (id) {\r\n\r\n\t\t$('#categoryModal').modal('toggle');\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: baseurl + 'public/post-ad/handler/fetch_modal',\r\n\t\t\ttype: 'GET',\r\n\t\t\tdataType: 'HTML',\r\n\t\t\tdata: {\r\n\t\t\t\tcategoryid: id\r\n\t\t\t},\r\n\t\t\tbeforeSend: function () {\r\n\t\t\t\t$('#modalSpinner').html(spinner);\r\n\t\t\t},\r\n\t\t\tsuccess: function (data) {\r\n\t\t\t\t$('#modalSpinner').html('');\r\n\t\t\t\t$('#loadSubCategories').html(data);\r\n\t\t\t},\r\n\t\t\tfail: function () {\r\n\t\t\t\tconsole.log('Error');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#categoryModal').on('hidden.bs.modal', function () {\r\n\t\t\t$('#loadSubCategories').html('');\r\n\t\t});\r\n\t};\r\n\r\n\t//\r\n\tvar fetchSubLocations = function (id) {\r\n\r\n\t\t$('#locationModal').modal('toggle');\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: baseurl + 'public/post-ad/handler/fetch_sub_location',\r\n\t\t\ttype: 'GET',\r\n\t\t\tdataType: 'HTML',\r\n\t\t\tdata: {\r\n\t\t\t\tlocationid: id,\r\n\t\t\t\tcategoryid: $('#categoryid').val()\r\n\t\t\t},\r\n\t\t\tbeforeSend: function () {\r\n\t\t\t\t$('#modalSpinner').html(spinner);\r\n\t\t\t},\r\n\t\t\tsuccess: function (data) {\r\n\t\t\t\t$('#modalSpinner').html('');\r\n\t\t\t\t$('#loadSubLocations').html(data);\r\n\t\t\t},\r\n\t\t\tfail: function () {\r\n\t\t\t\tconsole.log('Error');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('#locationModal').on('hidden.bs.modal', function () {\r\n\t\t\t$('#loadSubLocations').html('');\r\n\t\t});\r\n\t};\r\n\r\n\r\n\t/* Binding */\r\n\r\n\t// Create\r\n\tmaiExist.on('keyup', function () {\r\n\t\tvar mail = maiExist.val();\r\n\t\tif (mail.length > 12) {\r\n\t\t\temail_availability(mail);\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tformReg.on(\"submit\", function (event) {\r\n\t\tevent.preventDefault();\r\n\t\tcreate_user(this);\r\n\t});\r\n\r\n\tformLogin.on(\"submit\", function (event) {\r\n\t\tevent.preventDefault();\r\n\t\tlogin(this);\r\n\t});\r\n\r\n\t\r\n\t// Sort Date\r\n\t$('#sortDate').on('change', function () {\r\n\t\tvar url;\r\n\t\tvar sortDate = $(this).val();\r\n\t\tvar path = location.pathname.substr(location.pathname.indexOf('/') + 1);\r\n\t\tvar query = location.search;\r\n\t\tif(query == \"\" || query == null) {\r\n\t\t\turl = baseurl + path + '?sortdate=' + sortDate;\r\n\t\t\turl = url.replace('?sortdate=' + sortDate, '?sortdate=' + sortDate);\r\n\t\t\tlocation.href = url;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar queryParams = new URLSearchParams(query);\r\n\t\t\tif(queryParams.has('sortdate')) {\r\n\t\t\t\tvar value = queryParams.get('sortdate');\r\n\t\t\t\turl = baseurl + path + '?sortdate=' + sortDate;\r\n\t\t\t\turl = url.replace('?sortdate=' + value, '?sortdate=' + sortDate);\r\n\t\t\t\tlocation.href = url;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\turl = baseurl + path + query + '&sortdate=' + sortDate;\r\n\t\t\t\turl = url.replace('&sortdate=' + sortDate, '&sortdate=' + sortDate);\r\n\t\t\t\tlocation.href = url;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t});\r\n\r\n\t// Sort Price \r\n\t$('#sortPrice').on('change', function () {\r\n\t\tvar sortPrice = $(this).val();\r\n\t\tvar path = location.pathname.substr(location.pathname.indexOf('/') + 1);\r\n\t\tvar query = location.search;\r\n\t\tif(query == \"\" || query == null) {\r\n\t\t\turl = baseurl + path + '?sortprice=' + sortPrice;\r\n\t\t\turl = url.replace('?sortprice=' + sortPrice, '?sortprice=' + sortPrice);\r\n\t\t\tlocation.href = url;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar queryParams = new URLSearchParams(query);\r\n\t\t\tif(queryParams.has('sortprice')) {\r\n\t\t\t\tvar value = queryParams.get('sortprice');\r\n\t\t\t\turl = baseurl + path + '?sortprice=' + sortPrice;\r\n\t\t\t\turl = url.replace('?sortprice=' + value, '?sortprice=' + sortPrice);\r\n\t\t\t\tlocation.href = url;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\turl = baseurl + path + query +  '&sortprice=' + sortPrice;\r\n\t\t\t\turl = url.replace('&sortprice=' + sortPrice, '&sortprice=' + sortPrice);\r\n\t\t\t\tlocation.href = url;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t$('div[data-action=\"category\"]').on(\"click\", function () {\r\n\t\tvar id = $(this).data('id');\r\n\t\tfetchSubCategories(id);\r\n\t});\r\n\r\n\t$('div[data-action=\"location\"]').on(\"click\", function () {\r\n\t\tvar id = $(this).data('id');\r\n\t\tfetchSubLocations(id);\r\n\t});\r\n\r\n\t\r\n\r\n\tvar btnActions = {\r\n\t\tcategory: function (event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\t$('#categoryModal').modal('toggle');\r\n\t\t},\r\n\t\tlocation: function (event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\t$('#locationModal').modal('toggle');\r\n\t\t}\r\n\t};\r\n\r\n\t$(document).on(\"click\", 'button[data-action]', function (event) {\r\n\t\tvar link = $(this);\r\n\t\tvar action = link.data(\"action\");\r\n\r\n\t\tif (typeof btnActions[action] === \"function\") {\r\n\t\t\tbtnActions[action].call(this, event);\r\n\t\t}\r\n\t});\r\n\r\n\t$(\"[data-toggle=tooltip]\").tooltip();\r\n}); // End of document ready\r\n"]}