$(function(){var s=null,t=new Array,r=$("#messageBox"),a=$("#formLogin"),o=$("#formRegister"),n=$("input[name=usermail]");$("#spinner"),t=function(e,s){switch(s){case"error":return'<div class="notify-box"><noscript>Sorry, your browser does not support JavaScript!</noscript><div class="error d-flex align-items-center"><img src="'+baseurl+'assets/images/error.png" alt="Error-Image" class="img-fluid"><div>'+e+"<div></div></div>";case"success":return'<div class="notify-box"><noscript>Sorry, your browser does not support JavaScript!</noscript><div class="success d-flex align-items-center"><img src="'+baseurl+'assets/images/success.png" alt="Success-Image" class="img-fluid"><p>'+e+"</p></div></div>";case"info":return'<div class="notify-box"><noscript>Sorry, your browser does not support JavaScript!</noscript><div class="info d-flex align-items-center"><img src="'+baseurl+'assets/images/info.png" alt="Success-Image" class="img-fluid"><p>'+e+"</p></div></div>";default:return"Unable to display Message"}};n.on("keyup",function(){var e,s,t,r=n.val();12<r.length&&(e=r,s=$("#emailExist"),t=$("#emailExist"),$.ajax({url:baseurl+"public/user/register/check-email",type:o.attr("method"),dataType:"JSON",data:{mail:e},success:function(e){if(e.auth)return n.css("border-color","#ced4da"),s.html(""),t.prop("disabled",!1).css("cursor","pointer"),!0;n.css("border-color","red"),s.html(e.message),t.prop("disabled",!0).css("cursor","not-allowed")},fail:function(){console.log("Error")}}))}),o.on("submit",function(e){e.preventDefault(),s=new FormData(this),$.ajax({url:o.attr("action"),type:o.attr("method"),dataType:"JSON",data:s,processData:!1,contentType:!1,beforeSend:function(){r.html(t("Processing...","info"))},success:function(e){e.auth?(r.html(t(e.message,"success")),location.href=e.url):($("input[name=csrf_test_name]").val(e.csrf),r.html(t(e.message,"error")))},fail:function(){console.log("Error")}})}),a.on("submit",function(e){e.preventDefault(),s=new FormData(this),$.ajax({url:a.attr("action"),type:a.attr("method"),dataType:"JSON",data:s,processData:!1,contentType:!1,beforeSend:function(){r.html(t("Processing...","info"))},success:function(e){e.auth?(r.html(t(e.message,"success")),location.href=e.url):($("input[name=csrf_test_name]").val(e.csrf),r.html(t(e.message,"error")))},fail:function(){console.log("Error")}})}),$("#sortDate").on("change",function(){var e=$(this).val();location.href=baseurl+"ads?sortdate="+e}),$("#sortPrice").on("change",function(){var e=$(this).val();location.href=baseurl+"ads?sortprice="+e});var i={category:function(e){e.preventDefault(),$("#categoryModal").modal("toggle")},location:function(e){e.preventDefault(),$("#locationModal").modal("toggle")}};$(document).on("click","button[data-action]",function(e){var s=$(this).data("action");"function"==typeof i[s]&&i[s].call(this,e)})});