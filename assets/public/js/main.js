$(function(){var e=null,t=new Array,o=$("#messageBox"),r=$("#formLogin"),s=$("#formRegister"),n=$("input[name=usermail]"),i=($("#spinner"),'<i class="fa fa-spinner fa-spin fa-lg fa-fw d-block mx-auto text-primary mt-3"></i><span class="sr-only">Loading...</span>');t=function(a,e){switch(e){case"error":return'<div class="notify-box"><noscript>Sorry, your browser does not support JavaScript!</noscript><div class="error d-flex align-items-center"><img src="'+baseurl+'assets/images/error.png" alt="Error-Image" class="img-fluid"><div>'+a+"<div></div></div>";case"success":return'<div class="notify-box"><noscript>Sorry, your browser does not support JavaScript!</noscript><div class="success d-flex align-items-center"><img src="'+baseurl+'assets/images/success.png" alt="Success-Image" class="img-fluid"><p>'+a+"</p></div></div>";case"info":return'<div class="notify-box"><noscript>Sorry, your browser does not support JavaScript!</noscript><div class="info d-flex align-items-center"><img src="'+baseurl+'assets/images/info.png" alt="Success-Image" class="img-fluid"><p>'+a+"</p></div></div>";default:return"Unable to display Message"}};n.on("keyup",function(){var a,e,t,o=n.val();12<o.length&&(a=o,e=$("#emailExist"),t=$("#emailExist"),$.ajax({url:baseurl+"public/user/register/check-email",type:s.attr("method"),dataType:"JSON",data:{mail:a},success:function(a){if(a.auth)return n.css("border-color","#ced4da"),e.html(""),t.prop("disabled",!1).css("cursor","pointer"),!0;n.css("border-color","red"),e.html(a.message),t.prop("disabled",!0).css("cursor","not-allowed")},fail:function(){console.log("Error")}}))}),s.on("submit",function(a){a.preventDefault(),e=new FormData(this),$.ajax({url:s.attr("action"),type:s.attr("method"),dataType:"JSON",data:e,processData:!1,contentType:!1,beforeSend:function(){o.html(t("Processing...","info"))},success:function(a){a.auth?(o.html(t(a.message,"success")),location.href=a.url):($("input[name=csrf_test_name]").val(a.csrf),o.html(t(a.message,"error")))},fail:function(){console.log("Error")}})}),r.on("submit",function(a){a.preventDefault(),e=new FormData(this),$.ajax({url:r.attr("action"),type:r.attr("method"),dataType:"JSON",data:e,processData:!1,contentType:!1,beforeSend:function(){o.html(t("Processing...","info"))},success:function(a){a.auth?(o.html(t(a.message,"success")),location.href=a.url):($("input[name=csrf_test_name]").val(a.csrf),o.html(t(a.message,"error")))},fail:function(){console.log("Error")}})}),$("#sortDate").on("change",function(){var a,e=$(this).val(),t=location.pathname.substr(location.pathname.indexOf("/")+1),o=location.search;if(""==o||null==o)a=(a=baseurl+t+"?sortdate="+e).replace("?sortdate="+e,"?sortdate="+e),location.href=a;else{var r=new URLSearchParams(o);if(r.has("sortdate")){var s=r.get("sortdate");a=(a=baseurl+t+"?sortdate="+e).replace("?sortdate="+s,"?sortdate="+e),location.href=a}else a=(a=baseurl+t+o+"&sortdate="+e).replace("&sortdate="+e,"&sortdate="+e),location.href=a}}),$("#sortPrice").on("change",function(){var a=$(this).val(),e=location.pathname.substr(location.pathname.indexOf("/")+1),t=location.search;if(""==t||null==t)url=baseurl+e+"?sortprice="+a,url=url.replace("?sortprice="+a,"?sortprice="+a),location.href=url;else{var o=new URLSearchParams(t);if(o.has("sortprice")){var r=o.get("sortprice");url=baseurl+e+"?sortprice="+a,url=url.replace("?sortprice="+r,"?sortprice="+a),location.href=url}else url=baseurl+e+t+"&sortprice="+a,url=url.replace("&sortprice="+a,"&sortprice="+a),location.href=url}}),$('div[data-action="category"]').on("click",function(){var a,e=$(this).data("id");a=e,$("#categoryModal").modal("toggle"),$.ajax({url:baseurl+"public/post-ad/handler/fetch_modal",type:"GET",dataType:"HTML",data:{categoryid:a},beforeSend:function(){$("#modalSpinner").html(i)},success:function(a){$("#modalSpinner").html(""),$("#mainCategories").html("")},fail:function(){console.log("Error")}}),$("#categoryModal").on("hidden.bs.modal",function(){$("#loadSubCategories").html("")})}),$('div[data-action="location"]').on("click",function(){var a,e=$(this).data("id");a=e,$("#locationModal").modal("toggle"),$.ajax({url:baseurl+"public/post-ad/handler/fetch_sub_location",type:"GET",dataType:"HTML",data:{locationid:a,categoryid:$("#categoryid").val()},beforeSend:function(){$("#modalSpinner").html(i)},success:function(a){$("#modalSpinner").html(""),$("#loadSubLocations").html(a)},fail:function(){console.log("Error")}}),$("#locationModal").on("hidden.bs.modal",function(){$("#loadSubLocations").html("")})});var c={category:function(a){a.preventDefault(),$("#categoryModal").modal("toggle")},location:function(a){a.preventDefault(),$("#locationModal").modal("toggle")}};$(document).on("click","button[data-action]",function(a){var e=$(this).data("action");"function"==typeof c[e]&&c[e].call(this,a)})});
//# sourceMappingURL=maps/main.js.map
