$(function(){var t=new hullabaloo,n=null,o=$("#rowCount").find(":selected").text(),e=$("#formAddLocation"),i=function(a,t){$.ajax({url:baseurl+"admin/location/populate-table",type:"GET",dataType:"html",data:{page:a,rows:t},beforeSend:function(){$("#dataTableLocation").html('<div class="d-flex justify-content-center mt-2"> <div class="spinner-border text-primary" role="status"><span class="sr-only">Loading...</span></div></div>')},success:function(a){$("#dataTableLocation").html(""),$("#dataTableLocation").html(a)},fail:function(a,t,n){console.log(n)}})};i(1,o),$("#rowCount").on("change",function(){i(1,this.value)}),$("#locationType").on("change",function(){1==this.value?($("#pLocation").prop("disabled",!1),$.ajax({url:baseurl+"admin/location/populate-parent",type:"GET",dataType:"JSON",data:{subcat:!0},success:function(a){$.each(a,function(a,t){$("#pLocation").append($("<option>").text(t.name).attr("value",t.locid))})},fail:function(a,t,n){console.log(n)}})):($("#pLocation").prop("disabled","disabled"),$("#pLocation option").remove(),$("#locationId").val(0))}),$("#pLocation").on("change",function(){$("#locationId").val(this.value)}),$(document).on("click","#addLoc",function(a){a.preventDefault(),function(){n=new FormData;var a=e.serializeArray();$.each(a,function(a,t){n.append(t.name,t.value)}),$.ajax({url:e.attr("action"),type:e.attr("method"),dataType:"JSON",data:n,processData:!1,contentType:!1,beforeSend:function(){$("#addLoc").html('<i class="fa fa-spinner fa-spin fa-lg fa-fw d-block mx-auto text-white"></i><span class="sr-only">Loading...</span>')},success:function(a){$("#addLoc").html("").text("Submit"),a.auth?(t.send(a.message,"success"),i(1,o),e.trigger("reset"),n=null):t.send(a.message,"danger")},fail:function(a,t,n){console.log(n)}})}()});var c={pagination:function(a){a.preventDefault();var t=$(this).data("ci-pagination-page");i(t,10)},reload:function(a){a.preventDefault(),i(1,10)}};$(document).on("click","a[data-action]",function(a){var t=$(this).data("action");"function"==typeof c[t]&&c[t].call(this,a)})});
//# sourceMappingURL=maps/location.js.map
